<%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  <div class="container-fluid">
    
    <div class="row">
      <div class="col-lg-4 col-md-6 col-sm-8 col-lg-offset-4 col-md-offset-3 col-sm-offset-2">
        <div class="brand-logo text-center">
         
        </div>
        <div class="authfy-login">
          <div class="authfy-panel panel-signup text-center active">
            <div class="row">
              <div class="col-xs-12 col-sm-12">
                <div class="authfy-heading">
                  <h3 class="auth-title">Sign up for free!</h3>
                </div>
                <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
                  <div class="form-group">
                    <%= f.email_field :email, autofocus: true, autocomplete: "email" , class: "form-control email", placeholder: "Email Address", required: 'required' %>
                  </div>
                  <div class="form-group">
                    <%= f.text_field :name, class: "form-control email", placeholder: "Name", required: 'required' %>
                  </div>
                  <div class="form-group">
                    <%= f.telephone_field :phone_no, class: "form-control email", placeholder: "Phone", required:'required', title:"10 digits" %>
                  </div>
                  <div class="form-group">
                    <div class="pwdMask">
                      <%= f.password_field :password , class: "form-control password", placeholder: "Password" , required: 'required',pattern:".{6,9}",title:"6 to 9 characters" %>
                      <span class="fa fa-eye-slash pwd-toggle"></span>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="pwdMask">
                      <%= f.password_field :password_confirmation, class: "form-control password", placeholder: "Password Confirm", required: 'required' ,pattern:".{6,9}",title:"6 to 9 characters" %>
                      <span class="fa fa-eye-slash pwd-toggle"></span>
                    </div>
                  </div>
                  <div class="form-group">
                    <p class="term-policy text-muted small">I agree to the <a href="#">privacy policy</a> and <a href="#">terms of service</a>.</p>
                  </div>
                  <div class="form-group">
                    <%= f.submit "Sign Up", class: "btn btn-lg btn-primary btn-block",  :onclick => "return validateform()" %>
                  </div>
                <% end %>
                <%= link_to "Already have an account?", new_session_path(resource_name) %>
              </div>
            </div>
          </div>

    </div> 
   
        </div> 
      </div>
  </div> 
<script type="text/javascript">
  function error_msg(msg,sign)
  {
    if (sign=='error')
    {
    swal({
            title: "Sorry!!",
            text: msg,
            icon: "error",
            confirmButtonText: "OK",

          })
    }
    else
    {
      swal({
            title: "Success!!",
            text: msg,
            icon: "success",
            confirmButtonText: "OK",

          })
    }
  }

  function validateform() {
    var password = $("#user_password").val();
    var confirmPassword = $("#user_password_confirmation").val();
    var x=$("#user_email").val();

    if ($("#user_name").val().length ==0) {
        error_msg('name should be filled','error');
        return false;
      }
    var atposition=x.indexOf("@");  
    var dotposition=x.lastIndexOf(".");  
    if (atposition<1 || dotposition<atposition+2 || dotposition+2>=x.length){  
      error_msg('Please enter a valid e-mail address','error');
      return false;  
      }
    if ($("#user_password").val().length < 8) {
        error_msg('password should be 8 characters','error');
        return false;
      }
    if (password != confirmPassword) {
        error_msg('Passwords do not match.','error');
        return false;
      }
  } 
</script>
